<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ActionFounders Strategic Assessment</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; line-height: 1.6; color: #2d3748; background: #f7fafc; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        
        .header { background: linear-gradient(135deg, #1a365d, #2d3748); color: white; padding: 40px 0; text-align: center; margin-bottom: 40px; }
        .logo { font-size: 3rem; font-weight: 900; background: linear-gradient(135deg, #d4af37, #ff6b35); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
        .tagline { font-size: 1.2rem; opacity: 0.9; }
        
        .progress-container { background: white; padding: 25px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .progress-bar { width: 100%; height: 12px; background: #e2e8f0; border-radius: 6px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(135deg, #ff6b35, #d4af37); width: 0%; transition: width 0.5s ease; }
        .progress-text { text-align: center; margin-top: 15px; font-weight: 700; color: #1a365d; font-size: 1.1rem; }
        
        .question-card { background: white; padding: 40px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.15); border-top: 6px solid #ff6b35; }
        .question-number { color: #ff6b35; font-weight: 800; font-size: 1rem; margin-bottom: 15px; }
        .question-text { font-size: 1.5rem; font-weight: 700; color: #1a365d; margin-bottom: 25px; line-height: 1.3; }
        .question-subtitle { color: #4a5568; margin-bottom: 30px; font-size: 1.1rem; }
        
        .answer-options { display: grid; gap: 15px; }
        .answer-option { background: #f7fafc; border: 3px solid #e2e8f0; padding: 20px 25px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; font-weight: 500; font-size: 1.05rem; }
        .answer-option:hover { border-color: #ff6b35; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(255, 107, 53, 0.2); }
        .answer-option.selected { border-color: #ff6b35; background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(212, 175, 55, 0.1)); box-shadow: 0 8px 25px rgba(255, 107, 53, 0.2); }
        
        .navigation { display: flex; justify-content: space-between; margin-top: 50px; }
        .btn { padding: 18px 35px; border: none; border-radius: 50px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; font-size: 1.1rem; text-decoration: none; display: inline-block; text-align: center; }
        .btn-primary { background: linear-gradient(135deg, #ff6b35, #e55a2b); color: white; box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3); }
        .btn-secondary { background: transparent; border: 3px solid #1a365d; color: #1a365d; }
        .btn:hover { transform: translateY(-2px); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        .results-container { background: white; padding: 50px; border-radius: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.15); text-align: center; }
        .results-icon { font-size: 5rem; margin-bottom: 25px; }
        .results-title { font-size: 3rem; font-weight: 900; color: #1a365d; margin-bottom: 25px; }
        .results-subtitle { font-size: 1.3rem; color: #4a5568; margin-bottom: 40px; }
        
        .pricing-container { background: white; padding: 50px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 30px 0; }
        .pricing-card { background: linear-gradient(135deg, #f7fafc, #white); border: 3px solid #e2e8f0; padding: 30px; border-radius: 20px; position: relative; transition: all 0.3s ease; }
        .pricing-card:hover { border-color: #ff6b35; transform: translateY(-5px); box-shadow: 0 15px 40px rgba(255, 107, 53, 0.2); }
        .pricing-card.popular { border-color: #ff6b35; background: linear-gradient(135deg, rgba(255, 107, 53, 0.05), rgba(212, 175, 55, 0.05)); }
        .popular-badge { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #ff6b35, #d4af37); color: white; padding: 8px 20px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; }
        .price { font-size: 3rem; font-weight: 900; color: #1a365d; margin: 20px 0 10px 0; }
        .package-name { font-size: 1.3rem; font-weight: 700; color: #1a365d; margin-bottom: 15px; }
        .package-description { color: #666; margin-bottom: 25px; font-size: 0.95rem; }
        .feature-list { text-align: left; margin: 20px 0; }
        .feature-list li { margin: 8px 0; color: #4a5568; font-size: 0.95rem; }
        .feature-list li:before { content: "✅ "; color: #ff6b35; margin-right: 8px; }
        
        .hidden { display: none; }
        .loading { text-align: center; padding: 30px; }
        .spinner { border: 6px solid #e2e8f0; border-top: 6px solid #ff6b35; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite; margin: 0 auto 30px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .welcome-screen { background: white; padding: 50px; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.15); text-align: center; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .feature { background: #f7fafc; padding: 20px; border-radius: 15px; }
        .feature-icon { font-size: 2rem; margin-bottom: 10px; }
        
        .email-input { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 15px; font-size: 1.1rem; margin: 15px 0; }
        .email-input:focus { outline: none; border-color: #ff6b35; box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1); }
        
        @media (max-width: 768px) { 
            .container { padding: 15px; } 
            .question-card { padding: 25px; } 
            .question-text { font-size: 1.2rem; } 
            .navigation { flex-direction: column; gap: 15px; } 
            .btn { width: 100%; } 
            .logo { font-size: 2.2rem; }
            .pricing-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="welcomeScreen">
        <div class="header">
            <div class="container">
                <div class="logo">ActionFounders</div>
                <div class="tagline">Professional Founder Assessment & 90-Day Success Blueprint</div>
            </div>
        </div>

        <div class="container">
            <div class="welcome-screen">
                <h2 style="color: #1a365d; margin-bottom: 20px; font-size: 2.2rem;">Complete Founder Assessment & Action Plan</h2>
                <p style="font-size: 1.2rem; color: #4a5568; margin-bottom: 30px;">
                    Get your personalized 90-day success blueprint with comprehensive PDF report delivered to your inbox.
                </p>
                
                <div class="feature-grid">
                    <div class="feature">
                        <div class="feature-icon">🎯</div>
                        <h4 style="color: #1a365d;">25 Strategic Questions</h4>
                        <p style="color: #666; font-size: 0.9rem;">Comprehensive analysis of your founder potential</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">📊</div>
                        <h4 style="color: #1a365d;">Detailed PDF Report</h4>
                        <p style="color: #666; font-size: 0.9rem;">Professional analysis with founder type & strategies</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">📋</div>
                        <h4 style="color: #1a365d;">90-Day Action Plan</h4>
                        <p style="color: #666; font-size: 0.9rem;">Week-by-week strategies for rapid growth</p>
                    </div>
                </div>
            </div>

            <div class="pricing-container">
                <h3 style="text-align: center; color: #1a365d; margin-bottom: 30px; font-size: 2rem;">Choose Your Assessment Package</h3>
                
                <div class="pricing-grid">
                    <!-- $249 PRICING CARD -->
                    <div class="pricing-card">
                        <div class="package-name">Quick Start</div>
                        <div class="price">$249</div>
                        <div class="package-description">Complete assessment with personalized action plan</div>
                        <ul class="feature-list">
                            <li>25-question strategic assessment</li>
                            <li>Detailed founder profile analysis</li>
                            <li>90-day action plan with priorities</li>
                            <li>Professional PDF report via email</li>
                            <li>Industry-specific recommendations</li>
                        </ul>
                        <a href="https://buy.stripe.com/aFa4gy8g59f79Klc1pffy00" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            Start Assessment - $249
                        </a>
                    </div>

                    <!-- $399 PRICING CARD -->
                    <div class="pricing-card popular">
                        <div class="popular-badge">MOST POPULAR</div>
                        <div class="package-name">6-Month Access</div>
                        <div class="price">$399</div>
                        <div class="package-description">Everything in Quick Start plus unlimited retakes</div>
                        <ul class="feature-list">
                            <li>Everything in Quick Start</li>
                            <li>Unlimited assessment retakes</li>
                            <li>Updated reports as you grow</li>
                            <li>6 months of access</li>
                            <li>Email support included</li>
                        </ul>
                        <a href="https://buy.stripe.com/bJe7sK1RHfDv09L4yXffy01" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            Start Assessment - $399
                        </a>
                    </div>

                    <!-- $599 PRICING CARD -->
                    <div class="pricing-card">
                        <div class="package-name">Annual VIP</div>
                        <div class="price">$599</div>
                        <div class="package-description">Lifetime access with premium features</div>
                        <ul class="feature-list">
                            <li>Everything in 6-Month Access</li>
                            <li>Lifetime access & updates</li>
                            <li>Priority email support</li>
                            <li>Exclusive founder resources</li>
                            <li>Future assessment tools included</li>
                        </ul>
                        <a href="https://buy.stripe.com/7sYaEW67X8b38Gh0iHffy02" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            Start Assessment - $599
                        </a>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px; color: #666;">
                    <p>💳 Secure payment via Stripe • 🔒 SSL encrypted • 📧 Instant email delivery</p>
                </div>
            </div>

            <div style="background: #f7fafc; padding: 30px; border-radius: 20px; text-align: center;">
                <h4 style="color: #1a365d; margin-bottom: 15px;">Already purchased? Enter your email to access:</h4>
                <input type="email" id="accessEmail" class="email-input" placeholder="Enter your email address" style="max-width: 400px;">
                <button onclick="checkAccess()" class="btn btn-secondary" style="margin-left: 10px;">Access Assessment</button>
            </div>
        </div>
    </div>

    <div id="assessmentInterface" class="hidden">
        <div class="header">
            <div class="container">
                <div class="logo">ActionFounders</div>
                <div class="tagline">Strategic Assessment in Progress</div>
            </div>
        </div>

        <div class="container">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Question 1 of 25</div>
            </div>

            <div class="question-card" id="questionCard">
                <div class="question-number" id="questionNumber">QUESTION 1</div>
                <div class="question-text" id="questionText">Loading question...</div>
                <div class="question-subtitle" id="questionSubtitle">Loading subtitle...</div>
                
                <div class="answer-options" id="answerOptions">
                    <!-- Dynamic content -->
                </div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>← Previous</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Next Question →</button>
            </div>
        </div>
    </div>

    <div id="processingInterface" class="hidden">
        <div class="header">
            <div class="container">
                <div class="logo">ActionFounders</div>
                <div class="tagline">Generating Your Success Blueprint</div>
            </div>
        </div>
        
        <div class="container">
            <div class="results-container">
                <div class="loading">
                    <div class="spinner"></div>
                    <h3 style="color: #1a365d; margin-bottom: 15px;">Creating Your Professional PDF Report...</h3>
                    <p style="color: #666;">Analyzing your responses and generating your personalized 90-day action plan. Your detailed report will be emailed to you within 2-3 minutes.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="resultsInterface" class="hidden">
        <div class="header">
            <div class="container">
                <div class="logo">ActionFounders</div>
                <div class="tagline">Your Success Blueprint Complete</div>
            </div>
        </div>

        <div class="container">
            <div class="results-container">
                <div class="results-icon">📧</div>
                <div class="results-title">Report Delivered!</div>
                <div class="results-subtitle">Your comprehensive 90-day action plan has been sent to your email.</div>
                
                <div id="resultsPreview" style="text-align: left; margin: 20px 0; background: #f7fafc; padding: 30px; border-radius: 20px;">
                    <!-- Results preview will be displayed here -->
                </div>

                <div style="background: linear-gradient(135deg, #1a365d, #2d3748); color: white; padding: 30px; border-radius: 20px; margin: 30px 0;">
                    <h4 style="margin: 0 0 15px 0;">📧 Check Your Email</h4>
                    <p style="margin: 0; opacity: 0.9;">Your detailed PDF report with complete founder analysis and 90-day action plan has been sent to your email address. If you don't see it within 5 minutes, please check your spam folder.</p>
                </div>

                <div style="margin-top: 40px;">
                    <button class="btn btn-primary" onclick="retakeAssessment()" style="margin: 0 10px;">🔄 Retake Assessment</button>
                    <a href="mailto:support@actionfounders.com" class="btn btn-secondary" style="margin: 0 10px;">📞 Contact Support</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // URL parameters to check for payment success
        const urlParams = new URLSearchParams(window.location.search);
        const paymentSuccess = urlParams.get('payment_success');
        const userEmail = urlParams.get('email');

        // If payment was successful, start assessment immediately
        if (paymentSuccess === 'true' && userEmail) {
            localStorage.setItem('userEmail', userEmail);
            localStorage.setItem('paymentVerified', 'true');
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('assessmentInterface').classList.remove('hidden');
            initAssessment();
        }

        const questions = [
            { id: 1, text: "What best describes your current business stage?", subtitle: "This helps us tailor your plan to your specific situation", options: [
                { value: "idea", text: "💡 I have an idea but haven't started yet" },
                { value: "planning", text: "📋 Planning and researching my business" },
                { value: "startup", text: "🚀 Just started (0-6 months)" },
                { value: "early", text: "🌱 Early stage (6 months - 2 years)" },
                { value: "growth", text: "📈 Growing business (2+ years)" }
            ]},
            { id: 2, text: "How many hours per week can you realistically dedicate to your business?", subtitle: "Be honest - we'll work with your actual constraints", options: [
                { value: "5-10", text: "⏰ 5-10 hours (side hustle)" },
                { value: "10-20", text: "📅 10-20 hours (part-time)" },
                { value: "20-40", text: "💼 20-40 hours (serious commitment)" },
                { value: "40+", text: "🔥 40+ hours (full-time focus)" }
            ]},
            { id: 3, text: "What's your current monthly revenue?", subtitle: "Include all business income sources", options: [
                { value: "0", text: "💭 $0 (pre-revenue)" },
                { value: "1-1000", text: "🌱 $1 - $1,000" },
                { value: "1000-5000", text: "📈 $1,000 - $5,000" },
                { value: "5000-10000", text: "🚀 $5,000 - $10,000" },
                { value: "10000+", text: "💰 $10,000+" }
            ]},
            { id: 4, text: "What's your biggest challenge right now?", subtitle: "Select the one that's blocking you most", options: [
                { value: "clarity", text: "🎯 Lack of clear direction/strategy" },
                { value: "customers", text: "👥 Finding and attracting customers" },
                { value: "time", text: "⏰ Managing time and priorities" },
                { value: "money", text: "💸 Funding and cash flow" },
                { value: "scaling", text: "📊 Growing and scaling operations" }
            ]},
            { id: 5, text: "How would you rate your current marketing effectiveness?", subtitle: "Scale of 1-10 where 10 is extremely effective", options: [
                { value: "2", text: "😰 1-2 (Need major improvement)" },
                { value: "4", text: "😐 3-4 (Below average)" },
                { value: "6", text: "🤔 5-6 (Average effectiveness)" },
                { value: "8", text: "😊 7-8 (Above average)" },
                { value: "10", text: "🚀 9-10 (Highly effective)" }
            ]},
            { id: 6, text: "What industry or market are you in?", subtitle: "This helps us provide industry-specific advice", options: [
                { value: "tech", text: "💻 Technology/Software" },
                { value: "ecommerce", text: "🛒 E-commerce/Retail" },
                { value: "consulting", text: "💼 Consulting/Services" },
                { value: "health", text: "🏥 Health/Wellness" },
                { value: "education", text: "📚 Education/Training" },
                { value: "other", text: "🌐 Other industry" }
            ]},
            { id: 7, text: "Who is your target customer?", subtitle: "Who do you primarily serve or want to serve?", options: [
                { value: "b2b_small", text: "🏢 Small businesses (1-50 employees)" },
                { value: "b2b_enterprise", text: "🏬 Enterprise (500+ employees)" },
                { value: "consumers", text: "👤 Individual consumers" },
                { value: "professionals", text: "💼 Professionals/Freelancers" },
                { value: "unclear", text: "❓ Still figuring this out" }
            ]},
            { id: 8, text: "How confident are you in your business model?", subtitle: "Scale of 1-10 where 10 is completely confident", options: [
                { value: "2", text: "😰 1-2 (Very uncertain)" },
                { value: "4", text: "😐 3-4 (Somewhat uncertain)" },
                { value: "6", text: "🤔 5-6 (Moderately confident)" },
                { value: "8", text: "😊 7-8 (Very confident)" },
                { value: "10", text: "🚀 9-10 (Completely confident)" }
            ]},
            { id: 9, text: "What's your primary business goal for the next 90 days?", subtitle: "Choose your top priority", options: [
                { value: "validate", text: "🔍 Validate my business idea" },
                { value: "launch", text: "🚀 Launch my product/service" },
                { value: "customers", text: "👥 Get my first 10 paying customers" },
                { value: "revenue", text: "💰 Reach specific revenue goal" },
                { value: "scale", text: "📈 Scale existing operations" }
            ]},
            { id: 10, text: "How do you currently acquire customers?", subtitle: "Select your primary method", options: [
                { value: "none", text: "❌ I don't have customers yet" },
                { value: "referrals", text: "🗣️ Word of mouth/referrals" },
                { value: "social", text: "📱 Social media marketing" },
                { value: "content", text: "📝 Content marketing/SEO" },
                { value: "ads", text: "💰 Paid advertising" },
                { value: "networking", text: "🤝 Networking/events" }
            ]},
            { id: 11, text: "What's your monthly marketing budget?", subtitle: "Include all marketing and advertising spend", options: [
                { value: "0", text: "🆓 $0 (organic only)" },
                { value: "100", text: "💵 $1 - $500" },
                { value: "500", text: "💸 $500 - $2,000" },
                { value: "2000+", text: "💰 $2,000+" }
            ]},
            { id: 12, text: "How many team members do you have?", subtitle: "Include full-time, part-time, and contractors", options: [
                { value: "solo", text: "👤 Just me (solopreneur)" },
                { value: "2-3", text: "👥 2-3 people" },
                { value: "4-10", text: "👨‍👩‍👦‍👦 4-10 people" },
                { value: "10+", text: "🏢 10+ people" }
            ]},
            { id: 13, text: "Rate your technical skills", subtitle: "Scale of 1-10 for business-relevant technical abilities", options: [
                { value: "2", text: "😰 1-2 (Beginner)" },
                { value: "4", text: "😐 3-4 (Basic)" },
                { value: "6", text: "🤔 5-6 (Intermediate)" },
                { value: "8", text: "😊 7-8 (Advanced)" },
                { value: "10", text: "🚀 9-10 (Expert)" }
            ]},
            { id: 14, text: "Rate your sales and negotiation skills", subtitle: "Scale of 1-10 where 10 is expert level", options: [
                { value: "2", text: "😰 1-2 (Need major improvement)" },
                { value: "4", text: "😐 3-4 (Below average)" },
                { value: "6", text: "🤔 5-6 (Average)" },
                { value: "8", text: "😊 7-8 (Strong)" },
                { value: "10", text: "🚀 9-10 (Expert)" }
            ]},
            { id: 15, text: "What's your biggest strength as a founder?", subtitle: "Choose what you're naturally best at", options: [
                { value: "vision", text: "🎯 Strategic vision and planning" },
                { value: "execution", text: "⚡ Getting things done/execution" },
                { value: "people", text: "👥 Leading and motivating people" },
                { value: "technical", text: "💻 Technical/product development" },
                { value: "sales", text: "💰 Sales and customer relationships" },
                { value: "creative", text: "🎨 Creativity and innovation" }
            ]},
            { id: 16, text: "How do you typically make important business decisions?", subtitle: "Select your primary decision-making style", options: [
                { value: "data", text: "📊 Based on data and analysis" },
                { value: "intuition", text: "💭 Trust my gut/intuition" },
                { value: "advice", text: "🗣️ Seek advice from mentors/experts" },
                { value: "research", text: "📚 Extensive research and planning" },
                { value: "test", text: "🧪 Quick tests and iterations" }
            ]},
            { id: 17, text: "How well do you handle uncertainty and setbacks?", subtitle: "Scale of 1-10 where 10 is thrives under pressure", options: [
                { value: "2", text: "😰 1-2 (Struggle significantly)" },
                { value: "4", text: "😐 3-4 (Find it challenging)" },
                { value: "6", text: "🤔 5-6 (Manage okay)" },
                { value: "8", text: "😊 7-8 (Handle well)" },
                { value: "10", text: "🚀 9-10 (Thrive under pressure)" }
            ]},
            { id: 18, text: "What motivates you most?", subtitle: "Choose your primary driver", options: [
                { value: "freedom", text: "🕊️ Freedom and flexibility" },
                { value: "impact", text: "🌍 Making a positive impact" },
                { value: "money", text: "💰 Financial success" },
                { value: "recognition", text: "🏆 Recognition and status" },
                { value: "challenge", text: "🧠 Intellectual challenge" },
                { value: "legacy", text: "🏛️ Building something lasting" }
            ]},
            { id: 19, text: "How organized are your business processes?", subtitle: "Scale of 1-10 where 10 is highly systematized", options: [
                { value: "2", text: "😰 1-2 (Very disorganized)" },
                { value: "4", text: "😐 3-4 (Somewhat organized)" },
                { value: "6", text: "🤔 5-6 (Moderately organized)" },
                { value: "8", text: "😊 7-8 (Well organized)" },
                { value: "10", text: "🚀 9-10 (Highly systematized)" }
            ]},
            { id: 20, text: "What's your current biggest bottleneck?", subtitle: "What's preventing you from growing faster?", options: [
                { value: "time", text: "⏰ Not enough time" },
                { value: "money", text: "💸 Limited capital" },
                { value: "skills", text: "🎓 Lack of specific skills" },
                { value: "team", text: "👥 Need better team members" },
                { value: "systems", text: "⚙️ Poor systems/processes" },
                { value: "focus", text: "🎯 Too many distractions" }
            ]},
            { id: 21, text: "How quickly do you typically implement new ideas?", subtitle: "Choose your usual approach", options: [
                { value: "immediate", text: "⚡ Start immediately" },
                { value: "week", text: "📅 Within a week" },
                { value: "month", text: "📆 Within a month" },
                { value: "plan", text: "📋 After extensive planning" },
                { value: "struggle", text: "😰 I struggle with implementation" }
            ]},
            { id: 22, text: "Rate your current work-life balance", subtitle: "Scale of 1-10 where 10 is perfectly balanced", options: [
                { value: "2", text: "😰 1-2 (Very poor balance)" },
                { value: "4", text: "😐 3-4 (Poor balance)" },
                { value: "6", text: "🤔 5-6 (Average balance)" },
                { value: "8", text: "😊 7-8 (Good balance)" },
                { value: "10", text: "🚀 9-10 (Perfect balance)" }
            ]},
            { id: 23, text: "What's your learning style preference?", subtitle: "How do you best acquire new business skills?", options: [
                { value: "doing", text: "🛠️ Learning by doing/experimentation" },
                { value: "courses", text: "📚 Online courses and training" },
                { value: "mentors", text: "👨‍🏫 Mentorship and coaching" },
                { value: "reading", text: "📖 Books and articles" },
                { value: "peers", text: "👥 Peer groups and networking" }
            ]},
            { id: 24, text: "How committed are you to your current business idea?", subtitle: "Scale of 1-10 where 10 is completely committed", options: [
                { value: "2", text: "😰 1-2 (Not very committed)" },
                { value: "4", text: "😐 3-4 (Somewhat committed)" },
                { value: "6", text: "🤔 5-6 (Moderately committed)" },
                { value: "8", text: "😊 7-8 (Very committed)" },
                { value: "10", text: "🚀 9-10 (Completely committed)" }
            ]},
            { id: 25, text: "What outcome would make you consider this assessment worthwhile?", subtitle: "Help us understand what success looks like for you", options: [
                { value: "clarity", text: "🎯 Clear direction and focus" },
                { value: "plan", text: "📋 Actionable step-by-step plan" },
                { value: "validation", text: "✅ Validation of my approach" },
                { value: "resources", text: "🛠️ Specific tools and resources" },
                { value: "confidence", text: "💪 Increased confidence and motivation" }
            ]}
        ];

        let currentQuestion = 0;
        let answers = {};

        function checkAccess() {
            const email = document.getElementById('accessEmail').value;
            if (email && email.includes('@')) {
                localStorage.setItem('userEmail', email);
                localStorage.setItem('paymentVerified', 'true');
                startAssessment();
            } else {
                alert('Please enter a valid email address');
            }
        }

        function startAssessment() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('assessmentInterface').classList.remove('hidden');
            initAssessment();
        }

        function initAssessment() {
            displayQuestion(0);
            updateProgress();
        }

        function displayQuestion(index) {
            const question = questions[index];
            document.getElementById('questionNumber').textContent = `QUESTION ${index + 1}`;
            document.getElementById('questionText').textContent = question.text;
            document.getElementById('questionSubtitle').textContent = question.subtitle;
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'answer-option';
                optionDiv.innerHTML = option.text;
                optionDiv.addEventListener('click', () => selectOption(optionDiv, option.value, question.id));
                optionsContainer.appendChild(optionDiv);
            });

            updateNavigation();
        }

        function selectOption(element, value, questionId) {
            element.parentNode.querySelectorAll('.answer-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            element.classList.add('selected');
            answers[questionId] = value;
            enableNext();
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion(currentQuestion);
                updateProgress();
            } else {
                completeAssessment();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion(currentQuestion);
                updateProgress();
            }
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'Complete Assessment ✨' : 'Next Question →';
            disableNext();
        }

        function enableNext() {
            document.getElementById('nextBtn').disabled = false;
        }

        function disableNext() {
            document.getElementById('nextBtn').disabled = true;
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
        }

        async function completeAssessment() {
            document.getElementById('assessmentInterface').classList.add('hidden');
            document.getElementById('processingInterface').classList.remove('hidden');
            
            const userEmail = localStorage.getItem('userEmail');
            
            try {
                const response = await fetch('/api/assessment', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        answers: answers,
                        email: userEmail,
                        generatePDF: true
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    setTimeout(() => showResults(result.results), 3000);
                } else {
                    alert('Error: ' + result.error);
                    goBack();
                }
            } catch (error) {
                alert('Network error occurred. Please contact support.');
                goBack();
            }
        }

        function showResults(results) {
            document.getElementById('processingInterface').classList.add('hidden');
            document.getElementById('resultsInterface').classList.remove('hidden');
            
            document.getElementById('resultsPreview').innerHTML = `
                <h4 style="color: #1a365d; margin-bottom: 20px; font-size: 1.3rem;">📊 Your Assessment Preview</h4>
                
                <div style="background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px; border-left: 4px solid #ff6b35;">
                    <h5 style="color: #1a365d; margin-bottom: 10px;">Founder Type: ${results.founderProfile.type}</h5>
                    <p style="color: #666; margin-bottom: 10px;">${results.founderProfile.description}</p>
                    <div style="background: #ff6b35; color: white; display: inline-block; padding: 5px 15px; border-radius: 20px; font-weight: bold;">
                        Score: ${results.overallScore}/100
                    </div>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 15px;">
                    <h5 style="color: #1a365d; margin-bottom: 15px;">📋 Your Top Priorities</h5>
                    ${results.recommendations.slice(0, 3).map((rec, i) => `
                        <div style="margin-bottom: 15px; padding: 15px; background: #f7fafc; border-radius: 10px;">
                            <strong style="color: #1a365d;">${i + 1}. ${rec.action}</strong>
                            <div style="color: #666; font-size: 0.9rem; margin-top: 5px;">Timeline: ${rec.timeline}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div style="text-align: center; margin-top: 20px; padding: 15px; background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(212, 175, 55, 0.1)); border-radius: 15px;">
                    <strong style="color: #1a365d;">Complete details, strategies, and resources are in your PDF report!</strong>
                </div>
            `;
        }

        function goBack() {
            document.getElementById('processingInterface').classList.add('hidden');
            document.getElementById('assessmentInterface').classList.remove('hidden');
        }

        function retakeAssessment() {
            currentQuestion = 0;
            answers = {};
            document.getElementById('resultsInterface').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }
    </script>
</body>
</html>
